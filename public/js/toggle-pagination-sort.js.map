{"version":3,"file":"toggle-pagination-sort.js","names":["createTableManager","tableId","paginationId","toggleBtnId","options","data","columnTitles","pageSize","currentPage","hideCorrectRows","load","document","getElementById","onclick","toggleRows","renderTable","rowsToRender","slice","table","headers","Object","keys","filter","h","html","forEach","row","extraClass","rowClass","isError","includes","toggleClass","innerHTML","style","display","renderPagination","length","totalRows","totalPages","Math","ceil","pagination","i","active","querySelectorAll","link","addEventListener","e","preventDefault","parseInt","dataset","page","textContent"],"sources":["toggle-pagination-sort.js"],"sourcesContent":["function createTableManager(tableId, paginationId, toggleBtnId, options = {}) {\n    return {\n        data: [],\n        columnTitles: {},\n        pageSize: options.pageSize || 5,\n        currentPage: 1,\n        hideCorrectRows: false,\n\n        tableId,\n        paginationId,\n        toggleBtnId,\n\n        load(data, columnTitles) {\n            this.data = data;\n            this.columnTitles = columnTitles;\n            this.currentPage = 1;\n            this.hideCorrectRows = false;\n\n            document.getElementById(this.toggleBtnId).onclick = () => this.toggleRows();\n\n            this.renderTable();\n        },\n\n        renderTable() {\n            const { data, pageSize, currentPage, hideCorrectRows } = this;\n\n            let rowsToRender = hideCorrectRows\n                ? data\n                : data.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n\n            const table = document.getElementById(this.tableId);\n            const headers = Object.keys(data[0]).filter(h => h !== \"rowClass\");\n\n            let html = `\n                <thead class=\"nhsuk-table__head\" role=\"rowgroup\"><tr role=\"row\">\n            `;\n\n            headers.forEach(h => {\n                html += `<th scope=\"col\" class=\"nhsuk-table__header nhsuk-u-font-size-14\">${this.columnTitles[h]}</th>`;\n            });\n\n            html += `</tr></thead><tbody class=\"nhsuk-table__body\">`;\n\n            rowsToRender.forEach(row => {\n                const extraClass = row.rowClass || \"\";\n                const isError = extraClass.includes(\"errorHighlight\");\n                const toggleClass = hideCorrectRows && !isError ? \"hidden\" : \"\";\n\n                html += `<tr class=\"nhsuk-table__row ${toggleClass} ${extraClass}\" role=\"row\">`;\n\n                headers.forEach(h => {\n                    html += `<td class=\"nhsuk-table__cell nhsuk-u-font-size-14\" role=\"cell\">${row[h]}</td>`;\n                });\n\n                html += `</tr>`;\n            });\n\n            html += `</tbody>`;\n            table.innerHTML = html;\n\n            if (hideCorrectRows) {\n                document.getElementById(this.paginationId).style.display = \"none\";\n            } else {\n                document.getElementById(this.paginationId).style.display = \"flex\";\n                this.renderPagination(data.length);\n            }\n        },\n\n        renderPagination(totalRows) {\n            const totalPages = Math.ceil(totalRows / this.pageSize);\n            const pagination = document.getElementById(this.paginationId);\n\n            let html = `<ul class=\"nhsuk-pagination__list\">`;\n\n            if (this.currentPage > 1) {\n                html += `<a href=\"#\" class=\"nhsuk-pagination__previous\" data-page=\"${this.currentPage - 1}\" rel=\"prev\">\n                <svg class=\"nhsuk-icon nhsuk-icon--arrow-left\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" focusable=\"false\" aria-hidden=\"true\">\n                <path d=\"M10.7 6.3c.4.4.4 1 0 1.4L7.4 11H19a1 1 0 0 1 0 2H7.4l3.3 3.3c.4.4.4 1 0 1.4a1 1 0 0 1-1.4 0l-5-5A1 1 0 0 1 4 12c0-.3.1-.5.3-.7l5-5a1 1 0 0 1 1.4 0Z\" />\n                </svg>\n                <span class=\"nhsuk-pagination__title\">Previous<span class=\"nhsuk-u-visually-hidden\"> page</span>\n                </span></a>`;\n            }\n\n            for (let i = 1; i <= totalPages; i++) {\n                const active = i === this.currentPage ? 'nhsuk-pagination__item--current' : '';\n                html += `\n                    <li class=\"nhsuk-pagination__item ${active}\">\n                        <a href=\"#\" class=\"nhsuk-pagination__link\" data-page=\"${i}\">${i}</a>\n                    </li>`;\n            }\n\n            html += `</ul>`;\n\n            if (this.currentPage < totalPages) {\n                html += `<a href=\"#\"class=\"nhsuk-pagination__next\" data-page=\"${this.currentPage + 1}\" rel=\"next\">\n                <span class=\"nhsuk-pagination__title\">\n                Next<span class=\"nhsuk-u-visually-hidden\"> page</span>\n                </span>\n                <svg class=\"nhsuk-icon nhsuk-icon--arrow-right\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" focusable=\"false\" aria-hidden=\"true\">\n                  <path d=\"m14.7 6.3 5 5c.2.2.3.4.3.7 0 .3-.1.5-.3.7l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3H5a1 1 0 0 1 0-2h11.6l-3.3-3.3a1 1 0 1 1 1.4-1.4Z\" />\n                </svg></a>`;\n            }\n\n            pagination.innerHTML = html;\n\n            pagination.querySelectorAll(\"a[data-page]\").forEach(link => {\n                link.addEventListener(\"click\", e => {\n                    e.preventDefault();\n                    this.currentPage = parseInt(link.dataset.page);\n                    this.renderTable();\n                });\n            });\n        },\n\n        toggleRows() {\n            this.hideCorrectRows = !this.hideCorrectRows;\n\n            document.getElementById(this.toggleBtnId).textContent =\n                this.hideCorrectRows ? \"Show correct rows\" : \"Hide correct rows\";\n\n            if (!this.hideCorrectRows) this.currentPage = 1;\n\n            this.renderTable();\n        }\n    };\n}\n"],"mappings":"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","ignoreList":[]}