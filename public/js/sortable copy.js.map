{"version":3,"file":"sortable copy.js","names":["document","addEventListener","form","getElementById","e","preventDefault","checkboxes","querySelectorAll","forEach","cb","tableClass","value","tableEls","getElementsByClassName","Array","from","el","style","display","checked","formCustom","toggleButton","panel","isOpen","hasAttribute","setAttribute","textContent","removeAttribute","toggleTableFilter","panelTF","parseValue","type","trim","parseFloat","parts","split","Date","getTime","toLowerCase","clearSortStates","headers","h","sortTable","table","columnIndex","direction","tbody","querySelector","rows","sort","a","b","aText","children","innerText","bText","aVal","bVal","row","appendChild","header","closest","parentNode","indexOf","dataset","sortType","currentSort","getAttribute","newDirection","key","click"],"sources":["sortable copy.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const form = document.getElementById('table-selector-form')\n\n    if (!form) return\n\n    form.addEventListener('submit', function (e) {\n        e.preventDefault() // prevent page reload\n\n        // Get all checkbox inputs in the form\n        const checkboxes = form.querySelectorAll('input[name=\"tables\"]')\n\n        checkboxes.forEach(cb => {\n            const tableClass = cb.value\n            const tableEls = document.getElementsByClassName(tableClass)\n\n            if (!tableEls) return\n\n            // Show/hide the table based on whether the checkbox is ticked\n            Array.from(tableEls).forEach(el => {\n                el.style.display = cb.checked ? '' : 'none'\n            })\n        })\n    })\n\n    const formCustom = document.getElementById('table-custom-form')\n\n    if (!formCustom) return\n\n    formCustom.addEventListener('submit', function (e) {\n        e.preventDefault() // prevent page reload\n\n        // Get all checkbox inputs in the form\n        const checkboxes = formCustom.querySelectorAll('input[name=\"columns\"]')\n\n        checkboxes.forEach(cb => {\n            const tableClass = cb.value\n            const tableEls = document.getElementsByClassName(tableClass)\n\n            if (!tableEls) return\n\n            // Show/hide the table based on whether the checkbox is ticked\n            Array.from(tableEls).forEach(el => {\n                el.style.display = cb.checked ? '' : 'none'\n            })\n        })\n    })\n})\n\nconst toggleButton = document.getElementById('filters-toggle');\nconst panel = document.getElementById('filters-panel');\n\ntoggleButton.addEventListener('click', () => {\n    const isOpen = panel.hasAttribute('hidden') === false;\n\n    if (isOpen) {\n        panel.setAttribute('hidden', '');\n        toggleButton.setAttribute('aria-expanded', 'false');\n        toggleButton.textContent = 'Show filters';\n    } else {\n        panel.removeAttribute('hidden');\n        toggleButton.setAttribute('aria-expanded', 'true');\n        toggleButton.textContent = 'Hide filters';\n    }\n});\n\n\nconst toggleTableFilter = document.getElementById('filters-toggle-data');\nconst panelTF = document.getElementById('filters-panel-data');\n\ntoggleTableFilter.addEventListener('click', () => {\n    const isOpen = panelTF.hasAttribute('hidden') === false;\n\n    if (isOpen) {\n        panelTF.setAttribute('hidden', '');\n        toggleTableFilter.setAttribute('aria-expanded', 'false');\n        toggleTableFilter.textContent = 'Customise data set';\n    } else {\n        panelTF.removeAttribute('hidden');\n        toggleTableFilter.setAttribute('aria-expanded', 'true');\n        toggleTableFilter.textContent = 'Hide customisable data';\n    }\n});\n\n\n(function () {\n\n    function parseValue(value, type) {\n      value = value.trim();\n  \n      if (type === \"number\") {\n        return parseFloat(value) || 0;\n      }\n  \n      if (type === \"date\") {\n        if (!value) return 0;\n        const parts = value.split(\"/\");\n        return new Date(parts[2], parts[1] - 1, parts[0]).getTime();\n      }\n  \n      return value.toLowerCase();\n    }\n  \n    function clearSortStates(headers) {\n      headers.forEach(h => h.removeAttribute(\"aria-sort\"));\n    }\n  \n    function sortTable(table, columnIndex, type, direction) {\n      const tbody = table.querySelector(\"tbody\");\n      const rows = Array.from(tbody.querySelectorAll(\"tr\"));\n  \n      rows.sort((a, b) => {\n        const aText = a.children[columnIndex].innerText;\n        const bText = b.children[columnIndex].innerText;\n  \n        const aVal = parseValue(aText, type);\n        const bVal = parseValue(bText, type);\n  \n        if (aVal < bVal) return direction === \"asc\" ? -1 : 1;\n        if (aVal > bVal) return direction === \"asc\" ? 1 : -1;\n        return 0;\n      });\n  \n      rows.forEach(row => tbody.appendChild(row));\n    }\n  \n    document.querySelectorAll(\"table .sortable\").forEach(header => {\n  \n      header.addEventListener(\"click\", function () {\n        const table = header.closest(\"table\");\n        const headers = table.querySelectorAll(\".sortable\");\n        const columnIndex = Array.from(header.parentNode.children).indexOf(header);\n        const type = header.dataset.sortType;\n        const currentSort = header.getAttribute(\"aria-sort\");\n  \n        const newDirection = currentSort === \"ascending\" ? \"descending\" : \"ascending\";\n  \n        clearSortStates(headers);\n        header.setAttribute(\"aria-sort\", newDirection);\n  \n        sortTable(table, columnIndex, type, newDirection === \"ascending\" ? \"asc\" : \"desc\");\n      });\n  \n      // Allow keyboard sorting\n      header.addEventListener(\"keypress\", function (e) {\n        if (e.key === \"Enter\" || e.key === \" \") {\n          e.preventDefault();\n          header.click();\n        }\n      });\n  \n    });\n  \n  })();"],"mappings":"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","ignoreList":[]}